(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1>ngx-chart dashboard builder\n  <small class=\"pull-right\">\n    <button class=\"btn btn-primary\" (click)=\"onResetClicked()\">Reset</button>\n    <a href=\"https://github.com/swimlane/ngx-charts-dashboard\" class=\"btn btn-default\">Github</a>\n  </small>\n</h1>\n\n<div class=\"main\">\n\n  <ngx-tabs #tabs>\n    <ngx-tab title=\"Data\" #dataTab>\n      <div *ngxIfTabActive>\n\n        <span>\n          Copy and paste your tabular (TSV, CSV) data here.\n          <button class=\"btn btn-link\" (click)=\"useExample()\">(Use example data)</button>\n        </span>\n        <ngx-codemirror\n          [(ngModel)]=\"dataText\"\n          [config]=\"editorConfig\">\n        </ngx-codemirror>\n        <p *ngIf=\"dataText.length > 1\">\n          <span *ngFor=\"let error of errors\" class=\"text-red\">\n            <span *ngIf=\"error.row\">Row {{error.row + 2}}: </span>{{error.message}} <br />\n          </span>\n          <span *ngIf=\"!errors.length\" class=\"text-green\">\n            {{rawData.length}} records have been successfully parsed!\n          </span>\n        </p>\n\n      </div>\n    </ngx-tab>\n    <ngx-tab title=\"Chart Builder\" [disabled]=\"!hasValidData\" #builderTab>\n      <app-chart-builder (addChart)=\"addChartToDashboard($event)\"></app-chart-builder>\n    </ngx-tab>\n    <ngx-tab title=\"Dashboard\" [disabled]=\"charts.length < 1\" #dashboardTab>\n      <app-chart-dashboard [charts]=\"charts\" [filters]=\"filters\"></app-chart-dashboard>\n    </ngx-tab>\n  </ngx-tabs>\n\n</div>\n"

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/**\n  * Backgrounds\n  */\n/**\n  * Text\n  */\nhtml, body {\n  margin: 10px;\n  padding: 0;\n  height: 100%;\n  background: #1b1e27;\n  color: #a8b2c7; }\nbody {\n  font-family: 'RobotoDraft', 'Roboto', 'Helvetica Neue, Helvetica, Arial', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-rendering: optimizeLegibility;\n  min-height: 100vh;\n  color: #a8b2c7; }\n* {\n  box-sizing: border-box; }\n.main {\n  justify-content: center; }\n.main .CodeMirror {\n    min-height: 800px; }\n.light {\n  background: #fff; }\n.dark {\n  background: #1b1e27; }\n.dark .ngx-charts text {\n    fill: #a8b2c7; }\n.dark .ngx-charts .tooltip-anchor {\n    fill: white; }\n.dark .ngx-charts .gridline-path {\n    stroke: #2f3646; }\n.dark .ngx-charts .grid-panel.odd rect {\n    fill: rgba(255, 255, 255, 0.05); }\n.dark .ngx-charts .force-directed-graph .edge {\n    stroke: #455066; }\n.dark .ngx-charts .number-card p {\n    color: #f0f1f6; }\n.dark .ngx-charts .gauge .background-arc path {\n    fill: #2f3646; }\n.dark .ngx-charts .gauge .gauge-tick path {\n    stroke: #a8b2c7; }\n.dark .ngx-charts .gauge .gauge-tick text {\n    fill: #a8b2c7; }\n.dark .ngx-charts .linear-gauge .background-bar path {\n    fill: #2f3646; }\n.dark .ngx-charts .linear-gauge .units {\n    fill: #72809b; }\n.dark .ngx-charts .timeline .brush-background {\n    fill: rgba(255, 255, 255, 0.05); }\n.dark .ngx-charts .timeline .brush .selection {\n    fill: rgba(255, 255, 255, 0.1);\n    stroke: #aaa; }\n.dark .ngx-charts .polar-chart .polar-chart-background {\n    fill: #1e222e; }\n.dark .chart-legend .legend-labels {\n    background: rgba(255, 255, 255, 0.05) !important; }\n.dark .chart-legend .legend-item:hover {\n    color: #fff; }\n.dark .chart-legend .legend-label:hover {\n    color: #fff !important; }\n.dark .chart-legend .legend-label .active .legend-label-text {\n    color: #fff !important; }\n.dark .chart-legend .scale-legend-label {\n    color: #a8b2c7; }\n.dark .advanced-pie-legend {\n    color: #a8b2c7; }\n.dark .advanced-pie-legend .legend-item:hover {\n      color: #fff !important; }\n.dark .number-card .number-card-label {\n    font-size: 0.8em;\n    color: #a8b2c7; }\n/**\n * Header\n */\n.style-header {\n  text-transform: uppercase;\n  color: #72809b;\n  font-size: 1rem;\n  position: relative;\n  padding-bottom: 5px;\n  margin: 20px 0;\n  font-weight: 600; }\n.style-header:after {\n    content: \"\";\n    width: 25px;\n    height: 1px;\n    background: #72809b;\n    position: absolute;\n    bottom: 0;\n    left: 0; }\nsvg.ngx-charts {\n  float: left;\n  overflow: visible; }\n.ngx-charts-outer {\n  display: flow-root;\n  position: relative; }\n.pull-right {\n  float: right; }\napp-chart {\n  display: block;\n  width: 100%;\n  height: 400px;\n  margin-bottom: 60px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qbWgvd29ya3NwYWNlL3Byb2plY3RzL25neC1jaGFydHMtZGFzaGJvYXJkL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztJQUVJO0FBUUo7O0lBRUk7QUFRSjtFQUNFLGFBQVk7RUFDWixXQUFVO0VBQ1YsYUFBWTtFQUNaLG9CQXBCdUI7RUFxQnZCLGVBVnNCLEVBV3ZCO0FBRUQ7RUFDRSxxRkFBb0Y7RUFDcEYsb0NBQW1DO0VBQ25DLG1DQUFrQztFQUNsQyxtQ0FBa0M7RUFFbEMsa0JBQWlCO0VBQ2pCLGVBcEJzQixFQXFCdkI7QUFFRDtFQUNFLHVCQUFzQixFQUN2QjtBQUVEO0VBQ0Usd0JBQXVCLEVBS3hCO0FBTkQ7SUFJSSxrQkFBaUIsRUFDbEI7QUFHSDtFQUNFLGlCQUFnQixFQUNqQjtBQUVEO0VBQ0Usb0JBbkR1QixFQWlMeEI7QUEvSEQ7SUFNTSxjQTdDa0IsRUE4Q25CO0FBUEw7SUFVTSxZQUFzQixFQUN2QjtBQVhMO0lBY00sZ0JBOURnQixFQStEakI7QUFmTDtJQW9CVSxnQ0FBNEIsRUFDN0I7QUFyQlQ7SUEyQlEsZ0JBMUVnQixFQTJFakI7QUE1QlA7SUFpQ1EsZUF0RWtCLEVBdUVuQjtBQWxDUDtJQXdDVSxjQXhGWSxFQXlGYjtBQXpDVDtJQThDVSxnQkFyRmMsRUFzRmY7QUEvQ1Q7SUFpRFUsY0F4RmMsRUF5RmY7QUFsRFQ7SUF5RFUsY0F6R1ksRUEwR2I7QUExRFQ7SUE4RFEsY0F2R2lCLEVBd0dsQjtBQS9EUDtJQW9FUSxnQ0FBNEIsRUFDN0I7QUFyRVA7SUF5RVUsK0JBQThCO0lBQzlCLGFBQVksRUFDYjtBQTNFVDtJQWdGTSxjQUFxQixFQUN0QjtBQWpGTDtJQXVGTSxpREFBNkMsRUFDOUM7QUF4Rkw7SUE0RlEsWUFBVyxFQUNaO0FBN0ZQO0lBa0dRLHVCQUFzQixFQUN2QjtBQW5HUDtJQXVHVSx1QkFBc0IsRUFDdkI7QUF4R1Q7SUE2R00sZUFwSmtCLEVBcUpuQjtBQTlHTDtJQWtISSxlQXpKb0IsRUFnS3JCO0FBekhIO01Bc0hRLHVCQUFzQixFQUN2QjtBQXZIUDtJQTRISSxpQkFBZ0I7SUFDaEIsZUFwS29CLEVBcUtyQjtBQUtIOztHQUVHO0FBQ0g7RUFDRSwwQkFBeUI7RUFDekIsZUFQdUI7RUFRdkIsZ0JBQWU7RUFDZixtQkFBa0I7RUFDbEIsb0JBQW1CO0VBQ25CLGVBQWM7RUFDZCxpQkFBZ0IsRUFXakI7QUFsQkQ7SUFVSSxZQUFXO0lBQ1gsWUFBVztJQUNYLFlBQVc7SUFDWCxvQkFsQnFCO0lBbUJyQixtQkFBa0I7SUFDbEIsVUFBUztJQUNULFFBQU8sRUFDUjtBQUdIO0VBQ0UsWUFBVztFQUNYLGtCQUFpQixFQUNsQjtBQUVEO0VBQ0UsbUJBQWtCO0VBQ2xCLG1CQUFrQixFQUNuQjtBQUVEO0VBQ0UsYUFBWSxFQUNiO0FBRUQ7RUFDRSxlQUFjO0VBQ2QsWUFBVztFQUNYLGNBQWE7RUFDYixvQkFBbUIsRUFDcEIiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAgKiBCYWNrZ3JvdW5kc1xuICAqL1xuJGNvbG9yLWJnLWRhcmtlc3Q6ICMxMzE0MWI7XG4kY29sb3ItYmctZGFya2VyOiAjMWIxZTI3O1xuJGNvbG9yLWJnLWRhcms6ICMyMzI4Mzc7XG4kY29sb3ItYmctbWVkOiAjMmYzNjQ2O1xuJGNvbG9yLWJnLWxpZ2h0OiAjNDU1MDY2O1xuJGNvbG9yLWJnLWxpZ2h0ZXI6ICM1YjY4ODI7XG5cbi8qKlxuICAqIFRleHRcbiAgKi9cbiRjb2xvci10ZXh0LWRhcms6ICM3MjgwOWI7XG4kY29sb3ItdGV4dC1tZWQtZGFyazogIzkxOWRiNTtcbiRjb2xvci10ZXh0LW1lZDogI2E4YjJjNztcbiRjb2xvci10ZXh0LW1lZC1saWdodDogI2Q5ZGNlMTtcbiRjb2xvci10ZXh0LWxpZ2h0OiAjZjBmMWY2O1xuJGNvbG9yLXRleHQtbGlnaHRlcjogI2ZmZjtcblxuaHRtbCwgYm9keSB7XG4gIG1hcmdpbjogMTBweDtcbiAgcGFkZGluZzogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAkY29sb3ItYmctZGFya2VyO1xuICBjb2xvcjogJGNvbG9yLXRleHQtbWVkO1xufVxuXG5ib2R5IHtcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG9EcmFmdCcsICdSb2JvdG8nLCAnSGVsdmV0aWNhIE5ldWUsIEhlbHZldGljYSwgQXJpYWwnLCBzYW5zLXNlcmlmO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplTGVnaWJpbGl0eTtcblxuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgY29sb3I6ICRjb2xvci10ZXh0LW1lZDtcbn1cblxuKiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5tYWluIHtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cbiAgLkNvZGVNaXJyb3Ige1xuICAgIG1pbi1oZWlnaHQ6IDgwMHB4O1xuICB9XG59XG5cbi5saWdodCB7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbi5kYXJrIHtcbiAgYmFja2dyb3VuZDogJGNvbG9yLWJnLWRhcmtlcjtcblxuICAubmd4LWNoYXJ0cyB7XG5cbiAgICB0ZXh0IHtcbiAgICAgIGZpbGw6ICRjb2xvci10ZXh0LW1lZDtcbiAgICB9XG5cbiAgICAudG9vbHRpcC1hbmNob3Ige1xuICAgICAgZmlsbDogcmdiKDI1NSwyNTUsMjU1KTtcbiAgICB9XG5cbiAgICAuZ3JpZGxpbmUtcGF0aCB7XG4gICAgICBzdHJva2U6ICRjb2xvci1iZy1tZWQ7XG4gICAgfVxuXG4gICAgLmdyaWQtcGFuZWwge1xuICAgICAgJi5vZGQge1xuICAgICAgICByZWN0IHtcbiAgICAgICAgICBmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmZvcmNlLWRpcmVjdGVkLWdyYXBoIHtcbiAgICAgIC5lZGdlIHtcbiAgICAgICAgc3Ryb2tlOiAkY29sb3ItYmctbGlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLm51bWJlci1jYXJkIHtcbiAgICAgIHAge1xuICAgICAgICBjb2xvcjogJGNvbG9yLXRleHQtbGlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmdhdWdlIHtcbiAgICAgIC5iYWNrZ3JvdW5kLWFyY3tcbiAgICAgICAgcGF0aCB7XG4gICAgICAgICAgZmlsbDogJGNvbG9yLWJnLW1lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAuZ2F1Z2UtdGljayB7XG4gICAgICAgIHBhdGgge1xuICAgICAgICAgIHN0cm9rZTogJGNvbG9yLXRleHQtbWVkO1xuICAgICAgICB9XG4gICAgICAgIHRleHQge1xuICAgICAgICAgIGZpbGw6ICRjb2xvci10ZXh0LW1lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC5saW5lYXItZ2F1Z2Uge1xuICAgICAgLmJhY2tncm91bmQtYmFyIHtcbiAgICAgICAgcGF0aCB7XG4gICAgICAgICAgZmlsbDogJGNvbG9yLWJnLW1lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAudW5pdHMge1xuICAgICAgICBmaWxsOiAkY29sb3ItdGV4dC1kYXJrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC50aW1lbGluZSB7XG4gICAgICAuYnJ1c2gtYmFja2dyb3VuZCB7XG4gICAgICAgIGZpbGw6IHJnYmEoMjU1LDI1NSwyNTUsMC4wNSk7XG4gICAgICB9XG5cbiAgICAgIC5icnVzaCB7XG4gICAgICAgIC5zZWxlY3Rpb24ge1xuICAgICAgICAgIGZpbGw6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICAgICAgICBzdHJva2U6ICNhYWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAucG9sYXItY2hhcnQgLnBvbGFyLWNoYXJ0LWJhY2tncm91bmQge1xuICAgICAgZmlsbDogcmdiKDMwLCAzNCwgNDYpO1xuICAgIH1cblxuICB9XG5cbiAgLmNoYXJ0LWxlZ2VuZCB7XG4gICAgLmxlZ2VuZC1sYWJlbHMge1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA1KSAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgIC5sZWdlbmQtaXRlbSB7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmxlZ2VuZC1sYWJlbCB7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmFjdGl2ZSB7XG4gICAgICAgIC5sZWdlbmQtbGFiZWwtdGV4dCB7XG4gICAgICAgICAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC5zY2FsZS1sZWdlbmQtbGFiZWwge1xuICAgICAgY29sb3I6ICRjb2xvci10ZXh0LW1lZDtcbiAgICB9XG4gIH1cblxuICAuYWR2YW5jZWQtcGllLWxlZ2VuZCB7XG4gICAgY29sb3I6ICRjb2xvci10ZXh0LW1lZDtcblxuICAgIC5sZWdlbmQtaXRlbSB7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAubnVtYmVyLWNhcmQgLm51bWJlci1jYXJkLWxhYmVsIHtcbiAgICBmb250LXNpemU6IDAuOGVtO1xuICAgIGNvbG9yOiAkY29sb3ItdGV4dC1tZWQ7XG4gIH1cbn1cblxuJGNvbG9yLXRleHQtZGFyazogIzcyODA5YjtcblxuLyoqXG4gKiBIZWFkZXJcbiAqL1xuLnN0eWxlLWhlYWRlciB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGNvbG9yOiAkY29sb3ItdGV4dC1kYXJrO1xuICBmb250LXNpemU6IDFyZW07XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgbWFyZ2luOiAyMHB4IDA7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG5cbiAgJjphZnRlciB7XG4gICAgY29udGVudDogXCJcIjtcbiAgICB3aWR0aDogMjVweDtcbiAgICBoZWlnaHQ6IDFweDtcbiAgICBiYWNrZ3JvdW5kOiAkY29sb3ItdGV4dC1kYXJrO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgfVxufVxuXG5zdmcubmd4LWNoYXJ0cyB7XG4gIGZsb2F0OiBsZWZ0O1xuICBvdmVyZmxvdzogdmlzaWJsZTtcbn1cblxuLm5neC1jaGFydHMtb3V0ZXIge1xuICBkaXNwbGF5OiBmbG93LXJvb3Q7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLnB1bGwtcmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmFwcC1jaGFydCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MDBweDtcbiAgbWFyZ2luLWJvdHRvbTogNjBweDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _swimlane_ngx_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swimlane/ngx-ui */ "./node_modules/@swimlane/ngx-ui/fesm5/swimlane-ngx-ui.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data.service */ "./src/app/data.service.ts");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data */ "./src/app/data.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ "./src/app/utils.ts");






var AppComponent = /** @class */ (function () {
    function AppComponent(ngZone, dataService) {
        this.ngZone = ngZone;
        this.dataService = dataService;
        this.charts = [];
        this.filters = [];
        this._dataText = ' ';
        this.errors = [];
        this.rawData = [];
        this.editorConfig = {
            lineNumbers: true,
            theme: 'dracula',
            mode: {
                name: 'json'
            }
        };
    }
    Object.defineProperty(AppComponent.prototype, "dataText", {
        get: function () {
            return this._dataText || ' ';
        },
        set: function (value) {
            this.updateData(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppComponent.prototype, "hasValidData", {
        get: function () {
            return this._dataText.length > 0 && this.errors.length === 0;
        },
        enumerable: true,
        configurable: true
    });
    AppComponent.prototype.ngOnInit = function () {
        this.clearAll();
    };
    AppComponent.prototype.useExample = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this._dataText = _data__WEBPACK_IMPORTED_MODULE_4__["gapminder"];
                        return [4 /*yield*/, this.updateData()];
                    case 1:
                        _a.sent();
                        // this.dataDims = [5, 0, 3, 3].map(i => this.headerValues[i].name);
                        this.ngZone.run(function () { });
                        return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.onResetClicked = function () {
        this.clearAll();
        this.tabs.tabClicked(this.dataTab);
    };
    AppComponent.prototype.clearAll = function () {
        this.dataText = '';
        this.charts = [];
        this.filters = [];
    };
    AppComponent.prototype.addChartToDashboard = function (chart) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var x, y, qs;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.charts.push(chart);
                        x = this.dataService.createQuery(chart.dataDims[0], chart.dataDims[2], chart.dataDims[4]);
                        y = this.dataService.createQuery(chart.dataDims[2], 'count');
                        return [4 /*yield*/, Promise.all([x, y])];
                    case 1:
                        qs = _a.sent();
                        chart.xQuery = qs[0];
                        chart.yQuery = qs[1];
                        chart.xFilter = this.addFilter(chart.xQuery);
                        chart.yFilter = this.addFilter(chart.yQuery);
                        this.tabs.tabClicked(this.dashboardTab);
                        return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.updateData = function (value) {
        if (value === void 0) { value = this._dataText; }
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var data;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.dataService.updateData(value)];
                    case 1:
                        data = _a.sent();
                        if (data.length < 1 || this.errors.length) {
                            this._dataText = '';
                            this.errors = [];
                            return [2 /*return*/];
                        }
                        this.rawData = data;
                        this._dataText = value;
                        return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.addFilter = function (query) {
        var key = query.column.key;
        var filter = this.filters.find(function (c) { return c.key === key; });
        if (!filter) {
            var values = query.column.values;
            var minValue = Math.min.apply(Math, values);
            var maxValue = Math.max.apply(Math, values);
            var type = (values.length < 6 || isNaN(minValue) || isNaN(maxValue)) ? 'cat' : 'value';
            var range = [];
            var rangeIndex = {};
            if (type === 'value') {
                range = [minValue, maxValue];
            }
            else {
                range = query.column.values.slice(0);
                rangeIndex = range.reduce(function (acc, cur) {
                    acc[cur] = true;
                    return acc;
                }, rangeIndex);
            }
            filter = {
                type: type,
                label: Object(_utils__WEBPACK_IMPORTED_MODULE_5__["toCapitalizedWords"])(key),
                key: key,
                minValue: minValue,
                maxValue: maxValue,
                query: query,
                step: 1,
                values: values,
                rangeIndex: rangeIndex,
                range: range
            };
            this.filters.push(filter);
        }
        return filter;
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('tabs'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _swimlane_ngx_ui__WEBPACK_IMPORTED_MODULE_2__["TabsComponent"])
    ], AppComponent.prototype, "tabs", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('dashboardTab'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _swimlane_ngx_ui__WEBPACK_IMPORTED_MODULE_2__["TabComponent"])
    ], AppComponent.prototype, "dashboardTab", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('dataTab'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _swimlane_ngx_ui__WEBPACK_IMPORTED_MODULE_2__["TabComponent"])
    ], AppComponent.prototype, "dataTab", void 0);
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewEncapsulation"].None,
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"], _data_service__WEBPACK_IMPORTED_MODULE_3__["DataService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _swimlane_ngx_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swimlane/ngx-ui */ "./node_modules/@swimlane/ngx-ui/fesm5/swimlane-ngx-ui.js");
/* harmony import */ var _swimlane_ngx_charts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swimlane/ngx-charts */ "./node_modules/@swimlane/ngx-charts/release/esm.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _chart_chart_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chart/chart.component */ "./src/app/chart/chart.component.ts");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./data.service */ "./src/app/data.service.ts");
/* harmony import */ var _chart_builder_chart_builder_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chart-builder/chart-builder.component */ "./src/app/chart-builder/chart-builder.component.ts");
/* harmony import */ var _chart_dashboard_chart_dashboard_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chart-dashboard/chart-dashboard.component */ "./src/app/chart-dashboard/chart-dashboard.component.ts");











var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_6__["AppComponent"],
                _chart_chart_component__WEBPACK_IMPORTED_MODULE_7__["ChartComponent"],
                _chart_builder_chart_builder_component__WEBPACK_IMPORTED_MODULE_9__["ChartBuilderComponent"],
                _chart_dashboard_chart_dashboard_component__WEBPACK_IMPORTED_MODULE_10__["ChartDashboardComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__["BrowserAnimationsModule"],
                _swimlane_ngx_ui__WEBPACK_IMPORTED_MODULE_4__["NgxUIModule"],
                _swimlane_ngx_charts__WEBPACK_IMPORTED_MODULE_5__["NgxChartsModule"]
            ],
            providers: [_data_service__WEBPACK_IMPORTED_MODULE_8__["DataService"]],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_6__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/chart-builder/chart-builder.component.html":
/*!************************************************************!*\
  !*** ./src/app/chart-builder/chart-builder.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\n\n    <ngx-section class=\"shadow dark\" sectionTitle=\"Select your Chart\">\n      <ngx-select [filterable]=\"false\" label=\"Chart Type\" [ngModel]=\"[chartType]\" (change)=\"setChartType($event[0])\">\n        <ngx-select-option *ngFor=\"let chart of chartTypes\" [name]=\"chart.title\" [value]=\"chart\">\n        </ngx-select-option>\n      </ngx-select>\n    </ngx-section>\n  \n    <ngx-section class=\"shadow dark\" sectionTitle=\"Map your Dimensions\"\n      [sectionCollapsible]=\"hasChartSelected\"\n      [sectionCollapsed]=\"!hasChartSelected\">\n      <div *ngIf=\"hasChartSelected\">\n        <ngx-select\n          *ngIf=\"chartType.dimLabels[0] && chartType\"\n          [filterable]=\"false\"\n          [label]=\"chartType.dimLabels[0]\"\n          [ngModel]=\"[dataDims[0]]\"\n          (change)=\"dataDims[0] = $event[0]; processData()\">\n          <ngx-select-option *ngFor=\"let field of headerValues\"\n            [name]=\"field\"\n            [value]=\"field.name\">\n            <ng-template ngx-select-option-input-template ngx-select-option-template let-option=\"option\">\n              {{option.name.name}} <small>{{option.name.type}}</small>\n            </ng-template>\n          </ngx-select-option>\n        </ngx-select>\n  \n        <ngx-select\n          *ngIf=\"chartType.dimLabels[1]\"\n          [filterable]=\"false\"\n          [label]=\"chartType.dimLabels[1]\"\n          [ngModel]=\"[dataDims[1]]\"\n          (change)=\"dataDims[1] = $event[0]; processData()\">\n          <ngx-select-option *ngFor=\"let field of headerValues\"\n            [name]=\"field\"\n            [value]=\"field.name\">\n            <ng-template ngx-select-option-input-template ngx-select-option-template let-option=\"option\">\n              {{option.name.name}} <small>{{option.name.type}}</small>\n            </ng-template>\n          </ngx-select-option>\n        </ngx-select>\n  \n        <ngx-select\n          *ngIf=\"chartType.dimLabels[2]\"\n          [filterable]=\"false\"\n          [label]=\"chartType.dimLabels[2]\"\n          [ngModel]=\"[dataDims[2]]\"\n          (change)=\"dataDims[2] = $event[0]; processData()\">\n          <ngx-select-option *ngFor=\"let field of headerValues\"\n            [name]=\"field\"\n            [value]=\"field.name\">\n            <ng-template ngx-select-option-input-template ngx-select-option-template let-option=\"option\">\n              {{option.name.name}} <small>{{option.name.type}}</small>\n            </ng-template>\n          </ngx-select-option>\n        </ngx-select>\n  \n        <ngx-select\n          *ngIf=\"chartType.dimLabels[3]\"\n          [filterable]=\"false\"\n          [label]=\"chartType.dimLabels[3]\"\n          [ngModel]=\"[dataDims[3]]\"\n          (change)=\"dataDims[3] = $event[0]; processData()\">\n          <ngx-select-option *ngFor=\"let field of headerValues\"\n            [name]=\"field\"\n            [value]=\"field.name\">\n            <ng-template ngx-select-option-input-template ngx-select-option-template let-option=\"option\">\n              {{option.name.name}} <small>{{option.name.type}}</small>\n            </ng-template>\n          </ngx-select-option>\n        </ngx-select>\n\n        <ngx-select\n          *ngIf=\"chartType.dimLabels[4]\"\n          [filterable]=\"false\"\n          [label]=\"chartType.dimLabels[4]\"\n          [ngModel]=\"[dataDims[4]]\"\n          (change)=\"dataDims[4] = $event[0]; processData()\">\n          <ngx-select-option *ngFor=\"let agg of aggragates\"\n            [name]=\"agg\"\n            [value]=\"agg\">\n          </ngx-select-option>\n        </ngx-select>\n      </div>\n    </ngx-section>\n  \n    <ngx-section class=\"shadow\" [ngClass]=\"theme\" sectionTitle=\"Your Visualization\"\n      [sectionCollapsible]=\"hasValidDimensions\"\n      [sectionCollapsed]=\"!hasValidDimensions\">\n      <ngx-button (click)=\"onAddToDashboard()\">Add to dashboard</ngx-button>\n      <div *ngIf=\"hasValidDimensions\" class=\"viz-container\">\n\n        <app-chart\n          [chart]=\"chartOptions\"\n          [data]=\"data\"\n          [chartType]=\"chartType\">\n        </app-chart>\n\n      </div>\n      <!-- Download: \n      <ngx-button (click)=\"svgSaver.asSvg()\">SVG</ngx-button>\n      <ngx-button (click)=\"svgSaver.asPng()\">PNG</ngx-button -->\n    </ngx-section>\n  \n    <ngx-section class=\"shadow dark\" sectionTitle=\"Customize your Visualization\"\n      [sectionCollapsible]=\"hasValidDimensions\"\n      [sectionCollapsed]=\"!hasValidDimensions\">\n      <div *ngIf=\"hasValidDimensions\">\n        <ngx-select\n          [filterable]=\"false\"\n          label=\"Theme\"\n          [allowClear]=\"false\"\n          [ngModel]=\"[theme]\"\n          (change)=\"theme = $event[0]\">\n          <ngx-select-option *ngFor=\"let theme of ['light', 'dark']\"\n            [name]=\"theme\"\n            [value]=\"theme\">\n          </ngx-select-option>\n        </ngx-select>\n    \n        <ngx-toggle type=\"checkbox\" [(ngModel)]=\"chartOptions.showLegend\" label=\"Show Legend\">\n        </ngx-toggle>\n        <ngx-input type=\"text\" [(ngModel)]=\"chartOptions.legendTitle\" label=\"Legend Title\"></ngx-input>\n        <ngx-input type=\"text\" [(ngModel)]=\"chartOptions.xAxisLabel\" label=\"X Axis Label\"></ngx-input>\n        <ngx-input type=\"text\" [(ngModel)]=\"chartOptions.yAxisLabel\" label=\"Y Axis Label\"></ngx-input>\n      </div>\n    </ngx-section>\n  \n    <ngx-section class=\"shadow dark\" sectionTitle=\"Customize Color Scale\"\n      [sectionCollapsible]=\"hasValidDimensions\"\n      [sectionCollapsed]=\"!hasValidDimensions\">\n  \n      <ng-container *ngIf=\"hasValidDimensions\">\n        <ngx-toggle\n          [(ngModel)]=\"diverging\"\n          label=\"Diverging\"\n          (change)=\"updateColorScheme()\">\n        </ngx-toggle>\n        <ngx-input\n          type=\"number\"\n          min=\"2\"\n          label=\"Step count\"\n          [(ngModel)]=\"steps\"\n          (change)=\"updateColorScheme()\"></ngx-input>\n  \n        <div fxLayout=\"row nowrap\" fxLayoutGap=\"20px\">\n          <div  fxFlex=\"1 1 100%\">\n            <ngx-input\n              class=\"colors\"\n              type=\"text\"\n              [(ngModel)]=\"colors\"\n              (change)=\"updateColorScheme()\"\n              label=\"Color Scale\"\n              hint=\"Enter named colors or hex codes\"></ngx-input>\n            <ngx-checkbox\n              [(ngModel)]=\"bezier\"\n              (change)=\"updateColorScheme()\">\n              Bezier interpollation\n            </ngx-checkbox>\n            <ngx-checkbox\n              [(ngModel)]=\"lightness\"\n              (change)=\"updateColorScheme()\">\n              Lightness correction\n            </ngx-checkbox>\n          </div>\n          <div fxFlex=\"1 1 100%\" *ngIf=\"diverging\">\n            <ngx-input\n              class=\"colors\"\n              type=\"text\"\n              [(ngModel)]=\"colorsRight\"\n              (change)=\"updateColorScheme()\"\n              label=\"Color Scale Right\"\n              hint=\"Enter named colors or hex codes\"></ngx-input>\n            <ngx-checkbox\n              [(ngModel)]=\"bezierRight\"\n              (change)=\"updateColorScheme()\">\n              Bezier interpollation\n            </ngx-checkbox>\n            <ngx-checkbox\n              [(ngModel)]=\"lightnessRight\"\n              (change)=\"updateColorScheme()\">\n              Lightness correction\n            </ngx-checkbox>\n          </div>\n          <div fxFlex=\"0 0 200px\">\n            <ul class=\"color-scale pull-right\">\n              <li *ngFor=\"let hex of chartOptions.colorScheme.domain\" [ngStyle]=\"{'background-color': hex}\">{{hex}}</li>\n            </ul>\n          </div>\n        </div>\n      </ng-container>\n  \n    </ngx-section>\n\n  </div>"

/***/ }),

/***/ "./src/app/chart-builder/chart-builder.component.scss":
/*!************************************************************!*\
  !*** ./src/app/chart-builder/chart-builder.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".viz-container {\n  position: relative;\n  display: block;\n  width: 100%; }\n  .viz-container .chart {\n    max-height: 600px; }\n  .color-scale {\n  text-align: center;\n  width: 100%;\n  list-style-type: none;\n  padding-left: 0;\n  margin: 0; }\n  .color-scale li {\n    margin: 3px;\n    border-radius: 3px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qbWgvd29ya3NwYWNlL3Byb2plY3RzL25neC1jaGFydHMtZGFzaGJvYXJkL3NyYy9hcHAvY2hhcnQtYnVpbGRlci9jaGFydC1idWlsZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQWtCO0VBQ2xCLGVBQWM7RUFDZCxZQUFXLEVBS1o7RUFSRDtJQU1JLGtCQUFpQixFQUNsQjtFQUdIO0VBQ0UsbUJBQWtCO0VBQ2xCLFlBQVc7RUFDWCxzQkFBcUI7RUFDckIsZ0JBQWU7RUFDZixVQUFTLEVBTVY7RUFYRDtJQVFJLFlBQVc7SUFDWCxtQkFBa0IsRUFDbkIiLCJmaWxlIjoic3JjL2FwcC9jaGFydC1idWlsZGVyL2NoYXJ0LWJ1aWxkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudml6LWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuXG4gIC5jaGFydCB7XG4gICAgbWF4LWhlaWdodDogNjAwcHg7XG4gIH1cbn1cblxuLmNvbG9yLXNjYWxlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBwYWRkaW5nLWxlZnQ6IDA7XG4gIG1hcmdpbjogMDtcblxuICBsaSB7XG4gICAgbWFyZ2luOiAzcHg7XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICB9XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/chart-builder/chart-builder.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/chart-builder/chart-builder.component.ts ***!
  \**********************************************************/
/*! exports provided: ChartBuilderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartBuilderComponent", function() { return ChartBuilderComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _swimlane_ngx_charts_release_utils_color_sets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swimlane/ngx-charts/release/utils/color-sets */ "./node_modules/@swimlane/ngx-charts/release/utils/color-sets.js");
/* harmony import */ var d3_shape__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-shape */ "./node_modules/d3-shape/index.js");
/* harmony import */ var chroma_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! chroma-js */ "./node_modules/chroma-js/chroma.js");
/* harmony import */ var chroma_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(chroma_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data.service */ "./src/app/data.service.ts");
/* harmony import */ var _chartTypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chartTypes */ "./src/app/chart-builder/chartTypes.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ "./src/app/utils.ts");








var defaultOptions = {
    view: undefined,
    colorScheme: _swimlane_ngx_charts_release_utils_color_sets__WEBPACK_IMPORTED_MODULE_2__["colorSets"].find(function (s) { return s.name === 'cool'; }),
    schemeType: 'ordinal',
    showLegend: true,
    legendTitle: 'Legend',
    gradient: false,
    showXAxis: true,
    showYAxis: true,
    showXAxisLabel: true,
    showYAxisLabel: true,
    yAxisLabel: '',
    xAxisLabel: '',
    autoScale: true,
    showGridLines: true,
    rangeFillOpacity: 0.5,
    roundDomains: false,
    tooltipDisabled: false,
    showSeriesOnHover: true,
    curve: d3_shape__WEBPACK_IMPORTED_MODULE_3__["curveLinear"],
    curveClosed: d3_shape__WEBPACK_IMPORTED_MODULE_3__["curveCardinalClosed"]
};
var ChartBuilderComponent = /** @class */ (function () {
    function ChartBuilderComponent(ngZone, dataService) {
        var _this = this;
        this.ngZone = ngZone;
        this.dataService = dataService;
        this.chartTypes = _chartTypes__WEBPACK_IMPORTED_MODULE_6__["chartTypes"];
        this.dataDims = [null, null, null, null, 'count'];
        this.chartType = _chartTypes__WEBPACK_IMPORTED_MODULE_6__["chartTypes"][0];
        this.data = [];
        this.headerValues = [];
        this.aggragates = ['count', 'sum', 'avg', 'max', 'min'];
        this.addChart = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        dataService.universeUpdated.subscribe(function () {
            _this.clearAll();
            var headerValues = _this.dataService.headerValues;
            if (JSON.stringify(headerValues) !== JSON.stringify(_this.headerValues)) {
                _this.headerValues = headerValues.slice();
                _this.dataDims = [null, null, null, null, 'count'];
                _this.data = [];
            }
            else {
                _this.processData();
            }
        });
    }
    Object.defineProperty(ChartBuilderComponent.prototype, "hasChartSelected", {
        get: function () {
            return this.chartType && !!this.chartType.name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBuilderComponent.prototype, "hasValidDimensions", {
        get: function () {
            var _this = this;
            return this.hasChartSelected &&
                !this.chartType.dimLabels.some(function (l, i) { return l ? !_this.dataDims[i] : false; });
        },
        enumerable: true,
        configurable: true
    });
    ChartBuilderComponent.prototype.setChartLabels = function () {
        if (!this.hasValidDimensions) {
            return;
        }
        var labels = this.chartType.chartLabels(this.dataDims.map(_utils__WEBPACK_IMPORTED_MODULE_7__["toCapitalizedWords"]));
        return Object.assign(this.chartOptions, labels);
    };
    ChartBuilderComponent.prototype.processData = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var xKey, yKey, agg, query;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.hasValidDimensions) {
                            return [2 /*return*/];
                        }
                        this.setChartLabels();
                        xKey = this.dataDims[0];
                        if (this.dataDims[1]) {
                            xKey = [xKey, this.dataDims[1]];
                        }
                        yKey = this.dataDims[2];
                        agg = this.dataDims[4];
                        return [4 /*yield*/, this.dataService.createQuery(xKey, yKey, agg)];
                    case 1:
                        query = _a.sent();
                        this.data = this.dataService.getChartSeriesFromQuery(query, yKey, agg);
                        return [2 /*return*/, this.ngZone.run(function () { })];
                }
            });
        });
    };
    ChartBuilderComponent.prototype.ngOnInit = function () {
        this.dataDims = [null, null, null, null, 'count'];
        this.clearAll();
    };
    ChartBuilderComponent.prototype.clearAll = function () {
        this.chartType = _chartTypes__WEBPACK_IMPORTED_MODULE_6__["chartTypes"][0];
        this.theme = 'dark';
        this.colors = '#a8385d,#7aa3e5,#a27ea8,#aae3f5,#adcded,#a95963,#8796c0,#7ed3ed,#50abcc,#ad6886';
        this.colorsRight = 'darkred, deeppink, orange, lightyellow';
        this.steps = 10;
        this.bezier = false;
        this.lightness = false;
        this.bezierRight = false;
        this.lightnessRight = false;
        this.bezier = false;
        this.lightness = false;
        this.chartOptions = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, defaultOptions);
        return this.updateColorScheme();
    };
    ChartBuilderComponent.prototype.updateColorScheme = function () {
        var domain = this.diverging ? this.updateColorSchemeDiv() : this.updateColorSchemeSeq();
        return this.chartOptions.colorScheme = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, this.chartOptions.colorScheme, { domain: domain });
    };
    ChartBuilderComponent.prototype.onAddToDashboard = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var chart;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                chart = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, this.chartOptions);
                chart.data = this.data.slice();
                chart.chartType = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, this.chartType);
                chart.dataDims = this.dataDims.slice();
                chart.theme = this.theme;
                return [2 /*return*/, this.addChart.emit(chart)];
            });
        });
    };
    ChartBuilderComponent.prototype.setChartType = function (chartType) {
        var _this = this;
        this.chartType = chartType;
        this.dataDims = chartType.dimLabels.map(function (l, i) { return l ? _this.dataDims[i] : null; });
        return this.setChartLabels();
    };
    ChartBuilderComponent.prototype.updateColorSchemeSeq = function () {
        return this.getColorScale(this.colors, this.bezier, this.lightness);
    };
    ChartBuilderComponent.prototype.updateColorSchemeDiv = function () {
        var domainL = this.getColorScale(this.colors, this.bezier, this.lightness);
        var domainR = this.getColorScale(this.colorsRight, this.bezierRight, this.lightnessRight);
        if (domainL[domainL.length - 1] === domainR[0]) {
            domainL.pop();
        }
        return chroma_js__WEBPACK_IMPORTED_MODULE_4__["scale"](domainL.concat(domainR)).colors(this.steps);
    };
    ChartBuilderComponent.prototype.getColorScale = function (colors, bezier, lightness) {
        var cleanColors = clean(colors);
        var scale = bezier ? chroma_js__WEBPACK_IMPORTED_MODULE_4__["bezier"](cleanColors.slice(0, 5)).scale() : chroma_js__WEBPACK_IMPORTED_MODULE_4__["scale"](cleanColors);
        return scale.mode('lab').correctLightness(lightness).colors(this.steps);
        function clean(s) {
            return s.trim().replace(/(, *| +)/g, ',').replace(/['"]/g, '').split(',');
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], ChartBuilderComponent.prototype, "addChart", void 0);
    ChartBuilderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-chart-builder',
            template: __webpack_require__(/*! ./chart-builder.component.html */ "./src/app/chart-builder/chart-builder.component.html"),
            styles: [__webpack_require__(/*! ./chart-builder.component.scss */ "./src/app/chart-builder/chart-builder.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"], _data_service__WEBPACK_IMPORTED_MODULE_5__["DataService"]])
    ], ChartBuilderComponent);
    return ChartBuilderComponent;
}());



/***/ }),

/***/ "./src/app/chart-builder/chartTypes.ts":
/*!*********************************************!*\
  !*** ./src/app/chart-builder/chartTypes.ts ***!
  \*********************************************/
/*! exports provided: chartTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "chartTypes", function() { return chartTypes; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

function createChartType(_a) {
    var title = _a.title, obj = tslib__WEBPACK_IMPORTED_MODULE_0__["__rest"](_a, ["title"]);
    return tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({ title: title, name: titleToName(title), dimLabels: ['Group by', 'Name', 'Value', null] }, obj);
    function titleToName(s) {
        return s.toLowerCase().replace(/\ /g, '-');
    }
}
var singleDimLables = ['Group by', null, 'Value', null, 'Aggregation'];
var multiDimLables = ['Group by', 'Name', 'Value', null, 'Aggregation'];
var lineChartLabels = ['Group by', 'x-Values', 'y-Values', null, 'Aggregation'];
var singleChartLables = function (_a) {
    var group = _a[0], name = _a[1], value = _a[2], value2 = _a[3], agg = _a[4];
    return {
        xAxisLabel: group,
        yAxisLabel: agg + " of " + value,
        legendTitle: group,
        title: agg + " of " + value + " vs " + group
    };
};
var multiChartLables = function (_a) {
    var group = _a[0], name = _a[1], value = _a[2], value2 = _a[3], agg = _a[4];
    return {
        xAxisLabel: name + " by " + group,
        yAxisLabel: agg + " of " + value,
        legendTitle: name,
        title: agg + " of " + value + " vs " + name + " by " + group
    };
};
var singleChartLablesInv = function (_a) {
    var group = _a[0], name = _a[1], value = _a[2], value2 = _a[3], agg = _a[4];
    return {
        xAxisLabel: agg + " of " + value,
        yAxisLabel: group,
        legendTitle: group,
        title: agg + " of " + value + " vs " + group
    };
};
var multiChartLablesInv = function (_a) {
    var group = _a[0], name = _a[1], value = _a[2], value2 = _a[3], agg = _a[4];
    return {
        xAxisLabel: agg + " of " + value,
        yAxisLabel: name + " by " + group,
        legendTitle: name,
        title: agg + " of " + value + " vs " + name + " by " + group
    };
};
var cardsLables = function (_a) {
    var group = _a[0], name = _a[1], value = _a[2], value2 = _a[3], agg = _a[4];
    return {
        xAxisLabel: group,
        yAxisLabel: agg + " of " + value,
        legendTitle: group,
        title: agg + " of " + value + " by " + group
    };
};
var heatMapChartLables = function (_a) {
    var group = _a[0], name = _a[1], value = _a[2], value2 = _a[3], agg = _a[4];
    return {
        xAxisLabel: group,
        yAxisLabel: name,
        legendTitle: agg + " of " + value,
        title: agg + " of " + value
    };
};
var lineChartLables = function (_a) {
    var group = _a[0], name = _a[1], value = _a[2], value2 = _a[3], agg = _a[4];
    return {
        xAxisLabel: name,
        yAxisLabel: agg + " of " + value,
        legendTitle: group,
        title: agg + " of " + value + " vs " + name
    };
};
var chartTypes = [
    createChartType({
        title: 'Bar Vertical',
        dimLabels: singleDimLables,
        chartLabels: singleChartLables
    }),
    createChartType({
        title: 'Bar Horizontal',
        dimLabels: singleDimLables,
        chartLabels: singleChartLablesInv
    }),
    createChartType({
        title: 'Pie',
        dimLabels: singleDimLables,
        chartLabels: singleChartLables
    }),
    createChartType({
        title: 'Tree Map',
        dimLabels: singleDimLables,
        chartLabels: cardsLables
    }),
    createChartType({
        title: 'Number Cards',
        dimLabels: singleDimLables,
        chartLabels: cardsLables
    }),
    createChartType({
        title: 'Guage',
        dimLabels: singleDimLables,
        chartLabels: cardsLables
    }),
    createChartType({
        title: 'Pie Grid',
        dimLabels: singleDimLables,
        chartLabels: cardsLables
    }),
    createChartType({
        title: 'Line Chart',
        dimLabels: lineChartLabels,
        chartLabels: lineChartLables
    }),
    createChartType({
        title: 'Bar Vertical 2D',
        dimLabels: multiDimLables,
        chartLabels: multiChartLables
    }),
    createChartType({
        title: 'Bar Horizontal 2D',
        dimLabels: multiDimLables,
        chartLabels: multiChartLablesInv
    }),
    /* createChartType({
      title: 'Bar Vertical Stacked',
      dimLabels: multiDimLables,
      chartLabels: singleChartLables
    }),
    createChartType({
      title: 'Bar Vertical Normalized',
      dimLabels: multiDimLables,
      chartLabels: singleChartLables
    }),
    createChartType({
      title: 'Bar Horizontal Normalized',
      dimLabels: multiDimLables,
      chartLabels: singleChartLables
    }), */
    createChartType({
        title: 'Polar Chart',
        dimLabels: ['Group by', 'Angle Values', 'Radius Values', null, 'Aggregation'],
        chartLabels: multiChartLables
    }),
    createChartType({
        title: 'Heat Map',
        dimLabels: ['x-Category', 'y-Category', 'Color', null, 'Aggregation'],
        chartLabels: heatMapChartLables
    }),
];


/***/ }),

/***/ "./src/app/chart-dashboard/chart-dashboard.component.html":
/*!****************************************************************!*\
  !*** ./src/app/chart-dashboard/chart-dashboard.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n  <div class=\"charts\">\n    <div class=\"viz-container\" [ngClass]=\"chart.theme\" *ngFor=\"let chart of charts\">\n        <h1></h1>\n        <app-chart\n          class=\"chart\"\n          [chart]=\"chart\"\n          [data]=\"chart.data\"\n          [activeEntries]=\"chart.activeEntries\"\n          [chartType]=\"chart.chartType\"\n          (select)=\"onSelect()\">\n        </app-chart>\n      </div>\n  </div>\n  <div class=\"filters\">\n    <div class=\"filter\" *ngFor=\"let filter of filters\">\n      <button class=\"pull-right\" (click)=\"onClear(filter)\">(clear)</button>\n      <div *ngIf=\"filter.type === 'value'\">\n        {{filter.label}}\n        <ngx-slider\n          [(ngModel)]=\"filter.range[0]\"\n          [step]=\"filter.step\"\n          [filled]=\"true\"\n          [min]=\"filter.minValue\"\n          [max]=\"filter.maxValue\"\n          (change)=\"updateFilters()\">\n        </ngx-slider>\n        <ngx-slider\n          [(ngModel)]=\"filter.range[1]\"\n          [step]=\"filter.step\"\n          [filled]=\"true\"\n          [min]=\"filter.minValue\"\n          [max]=\"filter.maxValue\"\n          (change)=\"updateFilters()\">\n        </ngx-slider>\n        <br />{{filter.range[0]}} - {{filter.range[1]}}\n      </div>\n      <div *ngIf=\"filter.type === 'cat'\">\n        <label>{{filter.label}}</label>\n        <ul class=\"vertical-list\">\n          <li class=\"cat-filter-item\" *ngFor=\"let item of filter.query.data\">\n            <div>\n              <ngx-checkbox\n                [(ngModel)]=\"filter.rangeIndex[item.key]\"\n                (change)=\"updateFilters()\">\n                {{item.key}}\n              </ngx-checkbox>\n            </div>\n            <div>\n              <ngx-button class=\"select-single-filter\" (click)=\"onOnly(filter, item.key)\">only</ngx-button>\n              <span class=\"count\">{{item.value.count}}</span>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/chart-dashboard/chart-dashboard.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/chart-dashboard/chart-dashboard.component.scss ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\n  display: flex; }\n  .container > div.charts {\n    flex: 1 1 100%;\n    text-align: center;\n    margin-right: 10px; }\n  .container > div.charts .viz-container {\n      margin: 30px 0 10px 0; }\n  .container > div.charts .chart {\n      max-height: 600px;\n      margin-top: 60px; }\n  .container > div.filters {\n    flex: 0 0 250px;\n    margin-left: 10px; }\n  .container > div.filters .filter {\n      margin-top: 20px;\n      width: 100%;\n      clear: both;\n      border-left: 1px solid lightgrey;\n      padding-left: 10px; }\n  .container .cat-filter-item {\n    display: flex;\n    clear: both; }\n  .container .cat-filter-item > div {\n      flex: 1 1 50%; }\n  .container .cat-filter-item ngx-button {\n      visibility: hidden;\n      display: inline-block; }\n  .container .cat-filter-item:hover ngx-button {\n      visibility: initial; }\n  .container .cat-filter-item .count {\n      float: right; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qbWgvd29ya3NwYWNlL3Byb2plY3RzL25neC1jaGFydHMtZGFzaGJvYXJkL3NyYy9hcHAvY2hhcnQtZGFzaGJvYXJkL2NoYXJ0LWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWEsRUFrRGQ7RUFuREQ7SUFJSSxlQUFjO0lBQ2QsbUJBQWtCO0lBQ2xCLG1CQUFrQixFQVduQjtFQWpCSDtNQVNNLHNCQUFxQixFQUN0QjtFQVZMO01BYU0sa0JBQWlCO01BQ2pCLGlCQUFnQixFQUNqQjtFQWZMO0lBb0JJLGdCQUFlO0lBQ2Ysa0JBQWlCLEVBU2xCO0VBOUJIO01Bd0JNLGlCQUFnQjtNQUNoQixZQUFXO01BQ1gsWUFBVztNQUNYLGlDQUFnQztNQUNoQyxtQkFBa0IsRUFDbkI7RUE3Qkw7SUFpQ0ksY0FBYTtJQUNiLFlBQVcsRUFnQlo7RUFsREg7TUFxQ00sY0FBYSxFQUNkO0VBdENMO01BeUNNLG1CQUFrQjtNQUNsQixzQkFBcUIsRUFDdEI7RUEzQ0w7TUE2Q00sb0JBQW1CLEVBQ3BCO0VBOUNMO01BZ0RNLGFBQVksRUFDYiIsImZpbGUiOiJzcmMvYXBwL2NoYXJ0LWRhc2hib2FyZC9jaGFydC1kYXNoYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcblxuICA+IGRpdi5jaGFydHMge1xuICAgIGZsZXg6IDEgMSAxMDAlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG5cbiAgICAudml6LWNvbnRhaW5lciB7XG4gICAgICBtYXJnaW46IDMwcHggMCAxMHB4IDA7XG4gICAgfVxuXG4gICAgLmNoYXJ0IHtcbiAgICAgIG1heC1oZWlnaHQ6IDYwMHB4O1xuICAgICAgbWFyZ2luLXRvcDogNjBweDtcbiAgICB9XG4gICAgXG4gIH1cblxuICA+IGRpdi5maWx0ZXJzIHtcbiAgICBmbGV4OiAwIDAgMjUwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG5cbiAgICAuZmlsdGVyIHtcbiAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGNsZWFyOiBib3RoO1xuICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBsaWdodGdyZXk7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gICAgfVxuICB9XG5cbiAgLmNhdC1maWx0ZXItaXRlbSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBjbGVhcjogYm90aDtcblxuICAgID4gZGl2IHtcbiAgICAgIGZsZXg6IDEgMSA1MCU7XG4gICAgfVxuXG4gICAgbmd4LWJ1dHRvbiB7XG4gICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICAgICY6aG92ZXIgbmd4LWJ1dHRvbiB7XG4gICAgICB2aXNpYmlsaXR5OiBpbml0aWFsO1xuICAgIH1cbiAgICAuY291bnQge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgIH1cbiAgfVxufVxuIl19 */"

/***/ }),

/***/ "./src/app/chart-dashboard/chart-dashboard.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/chart-dashboard/chart-dashboard.component.ts ***!
  \**************************************************************/
/*! exports provided: ChartDashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartDashboardComponent", function() { return ChartDashboardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data.service */ "./src/app/data.service.ts");



var ChartDashboardComponent = /** @class */ (function () {
    function ChartDashboardComponent(ngZone, dataService) {
        this.ngZone = ngZone;
        this.dataService = dataService;
        this.charts = [];
        this.filters = [];
    }
    ChartDashboardComponent.prototype.ngOnInit = function () {
    };
    ChartDashboardComponent.prototype.onClear = function (_filter) {
        var filters = _filter ? [_filter] : this.filters;
        filters.forEach(function (filter) {
            switch (filter.type) {
                case 'value':
                    filter.range = [filter.minValue, filter.maxValue];
                    break;
                default:
                    filter.range = filter.query.column.values;
                    filter.rangeIndex = filter.range.reduce(function (acc, cur) {
                        acc[cur] = true;
                        return acc;
                    }, {});
            }
        });
        return this.updateFilters();
    };
    ChartDashboardComponent.prototype.onSelect = function () {
        return this.updateFilters();
    };
    ChartDashboardComponent.prototype.onOnly = function (filter, id) {
        var _a;
        filter.rangeIndex = (_a = {},
            _a[id] = true,
            _a);
        this.updateFilters();
    };
    /** Updates universe/crossfilter filters based on UI filters */
    ChartDashboardComponent.prototype.updateFilters = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var p;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        p = this.filters.map(function (filter) {
                            switch (filter.type) {
                                case 'value':
                                    var value = {
                                        $gte: filter.range[0],
                                        $lte: filter.range[1],
                                    };
                                    return _this.dataService.dataUniverse.filter(filter.key, value, true, true);
                                default:
                                    var range = Object.keys(filter.rangeIndex).reduce(function (acc, key) {
                                        if (filter.rangeIndex[key]) {
                                            acc.push(parseInt(key, 10) || key);
                                        }
                                        return acc;
                                    }, []);
                                    return _this.dataService.dataUniverse.filter(filter.key, range, false, true);
                            }
                        });
                        return [4 /*yield*/, Promise.all(p)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this.updateData()];
                }
            });
        });
    };
    /** Converts universe aggragate data into ngx-charts data */
    ChartDashboardComponent.prototype.updateData = function () {
        var _this = this;
        this.ngZone.runOutsideAngular(function () {
            _this.charts.forEach(function (chart) {
                chart.data = _this.dataService.getChartSeriesFromQuery(chart.xQuery, chart.dataDims[2], chart.dataDims[4]);
                // todo: move to dataService
                var filter = chart.xFilter;
                if (filter.type === 'cat' && filter.values.length > 0) {
                    chart.activeEntries = chart.data.filter(function (d) {
                        return filter.rangeIndex[d.name];
                    });
                }
                else if (filter.type === 'value') {
                    chart.activeEntries = chart.data.filter(function (d) {
                        return (d.name >= filter.minValue && d.name <= filter.maxValue);
                    });
                }
                else {
                    chart.activeEntries = [];
                }
            });
        });
        this.ngZone.run(function () { });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
    ], ChartDashboardComponent.prototype, "charts", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
    ], ChartDashboardComponent.prototype, "filters", void 0);
    ChartDashboardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-chart-dashboard',
            template: __webpack_require__(/*! ./chart-dashboard.component.html */ "./src/app/chart-dashboard/chart-dashboard.component.html"),
            styles: [__webpack_require__(/*! ./chart-dashboard.component.scss */ "./src/app/chart-dashboard/chart-dashboard.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"], _data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"]])
    ], ChartDashboardComponent);
    return ChartDashboardComponent;
}());



/***/ }),

/***/ "./src/app/chart/chart.component.html":
/*!********************************************!*\
  !*** ./src/app/chart/chart.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h1>{{chart.title}}</h1>\n\n<ngx-charts-bar-vertical\n  *ngIf=\"chartType.name === 'bar-vertical'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  (select)=\"onSelect($event)\"\n  (deactivate)=\"onSelect()\">\n</ngx-charts-bar-vertical>\n\n<ngx-charts-bar-horizontal\n  *ngIf=\"chartType.name === 'bar-horizontal'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  (select)=\"onSelect($event)\"\n  (deactivate)=\"onSelect()\">\n</ngx-charts-bar-horizontal>\n\n<ngx-charts-pie-chart\n  *ngIf=\"chartType.name === 'pie'\"\n  [scheme]=\"chart.colorScheme\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [explodeSlices]=\"false\"\n  [labels]=\"chart.showXAxisLabel\"\n  [doughnut]=\"false\"\n  [gradient]=\"chart.gradient\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  (select)=\"onSelect($event)\"\n  (deactivate)=\"onSelect()\">\n</ngx-charts-pie-chart>\n\n<ngx-charts-pie-grid\n  *ngIf=\"chartType.name === 'pie-grid'\"\n  [scheme]=\"chart.colorScheme\"\n  [results]=\"data\"\n  (select)=\"onSelect($event)\"\n  (deactivate)=\"onSelect()\">\n</ngx-charts-pie-grid>\n\n<ngx-charts-tree-map\n  *ngIf=\"chartType.name === 'tree-map'\"\n  [scheme]=\"chart.colorScheme\"\n  [results]=\"data\"\n  [gradient]=\"chart.gradient\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  (select)=\"onSelect($event)\"\n  (deactivate)=\"onSelect()\">\n</ngx-charts-tree-map>\n\n<ngx-charts-number-card\n  *ngIf=\"chartType.name === 'number-cards'\"\n  [scheme]=\"chart.colorScheme\"\n  [results]=\"data\"\n  (select)=\"onSelect($event)\"\n  (deactivate)=\"onSelect()\">\n</ngx-charts-number-card>\n\n<ngx-charts-gauge\n  *ngIf=\"chartType.name === 'guage'\"\n  [scheme]=\"chart.colorScheme\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [units]=\"chart.yAxisLabel\"\n  (select)=\"onSelect($event)\"\n  (deactivate)=\"onSelect()\">\n</ngx-charts-gauge>\n\n<ngx-charts-bar-vertical-2d\n  *ngIf=\"chartType.name === 'bar-vertical-2d'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  xxxbarPadding=\"chart.barPadding\"\n  xxxgroupPadding=\"chart.groupPadding\"\n  [roundDomains]=\"chart.roundDomains\">\n</ngx-charts-bar-vertical-2d>\n\n<ngx-charts-bar-horizontal-2d\n  *ngIf=\"chartType.name === 'bar-horizontal-2d'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  [roundDomains]=\"chart.roundDomains\">\n</ngx-charts-bar-horizontal-2d>\n<ngx-charts-bar-vertical-stacked\n  *ngIf=\"chartType.name === 'bar-vertical-stacked'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  [roundDomains]=\"chart.roundDomains\">\n</ngx-charts-bar-vertical-stacked>\n<ngx-charts-bar-horizontal-stacked\n  *ngIf=\"chartType.name === 'bar-horizontal-stacked'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  [roundDomains]=\"chart.roundDomains\">\n</ngx-charts-bar-horizontal-stacked>\n<ngx-charts-bar-vertical-normalized\n  *ngIf=\"chartType.name === 'bar-vertical-normalized'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  [roundDomains]=\"chart.roundDomains\">\n</ngx-charts-bar-vertical-normalized>\n<ngx-charts-bar-horizontal-normalized\n  *ngIf=\"chartType.name === 'bar-horizontal-normalized'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [gradient]=\"chart.gradient\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [showGridLines]=\"chart.showGridLines\"\n  [roundDomains]=\"chart.roundDomains\">\n</ngx-charts-bar-horizontal-normalized>\n<ngx-charts-polar-chart\n  *ngIf=\"chartType.name === 'polar-chart'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [gradient]=\"chart.gradient\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [autoScale]=\"chart.autoScale\"\n  [showGridLines]=\"chart.showGridLines\"\n  [rangeFillOpacity]=\"chart.rangeFillOpacity\"\n  [roundDomains]=\"chart.roundDomains\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [curve]=\"chart.curveClosed\"\n  [showSeriesOnHover]=\"chart.showSeriesOnHover\">\n</ngx-charts-polar-chart>\n\n<ngx-charts-line-chart\n  *ngIf=\"chartType.name === 'line-chart'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [results]=\"data\"\n  [activeEntries]=\"activeEntries\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [gradient]=\"chart.gradient\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [autoScale]=\"chart.autoScale\"\n  [showGridLines]=\"chart.showGridLines\"\n  [curve]=\"chart.curve\"\n  [rangeFillOpacity]=\"chart.rangeFillOpacity\"\n  [roundDomains]=\"chart.roundDomains\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\">\n</ngx-charts-line-chart>\n\n<ngx-charts-heat-map\n  *ngIf=\"chartType.name === 'heat-map'\"\n  class=\"chart-container\"\n  [scheme]=\"chart.colorScheme\"\n  [results]=\"data\"\n  [legend]=\"chart.showLegend\"\n  [gradient]=\"chart.gradient\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\">\n</ngx-charts-heat-map>\n\n<!-- ngx-charts-bubble-chart\n  *ngIf=\"chartType.name === 'bubble-chart'\"\n  class=\"chart-container\"\n  [results]=\"data\"\n  [showGridLines]=\"chart.showGridLines\"\n  [legend]=\"chart.showLegend\"\n  [legendTitle]=\"chart.legendTitle\"\n  [xAxis]=\"chart.showXAxis\"\n  [yAxis]=\"chart.showYAxis\"\n  [showXAxisLabel]=\"chart.showXAxisLabel\"\n  [showYAxisLabel]=\"chart.showYAxisLabel\"\n  [xAxisLabel]=\"chart.xAxisLabel\"\n  [yAxisLabel]=\"chart.yAxisLabel\"\n  [autoScale]=\"chart.autoScale\"\n  [scheme]=\"chart.colorScheme\"\n  [schemeType]=\"chart.schemeType\"\n  [roundDomains]=\"chart.roundDomains\"\n  [tooltipDisabled]=\"chart.tooltipDisabled\"\n  [minRadius]=\"3\"\n  [maxRadius]=\"20\">\n</ngx-charts-bubble-chart -->\n\n<div class=\"svg-saver-container\">\n  Download: \n  <ngx-button (click)=\"svgSaver.asSvg()\">SVG</ngx-button>\n  <ngx-button (click)=\"svgSaver.asPng()\">PNG</ngx-button>\n</div>\n\n\n"

/***/ }),

/***/ "./src/app/chart/chart.component.scss":
/*!********************************************!*\
  !*** ./src/app/chart/chart.component.scss ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "app-chart h1 {\n  text-align: center; }\n\napp-chart.has-active-entries path.bar,\napp-chart.has-active-entries path.arc {\n  opacity: 0.1; }\n\napp-chart.has-active-entries path.bar.active,\n  app-chart.has-active-entries path.arc.active {\n    opacity: 1; }\n\napp-chart .svg-saver-container {\n  width: 100%;\n  text-align: center; }\n\napp-chart .svg-saver-container .ngx-button button {\n    padding: 0;\n    width: initial; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qbWgvd29ya3NwYWNlL3Byb2plY3RzL25neC1jaGFydHMtZGFzaGJvYXJkL3NyYy9hcHAvY2hhcnQvY2hhcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFFSSxtQkFBa0IsRUFDbkI7O0FBSEg7O0VBUU0sYUFBWSxFQUtiOztBQWJMOztJQVdRLFdBQVUsRUFDWDs7QUFaUDtFQWlCSSxZQUFXO0VBQ1gsbUJBQWtCLEVBTW5COztBQXhCSDtJQXFCTSxXQUFVO0lBQ1YsZUFBYyxFQUNmIiwiZmlsZSI6InNyYy9hcHAvY2hhcnQvY2hhcnQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbmFwcC1jaGFydCB7XG4gIGgxIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAmLmhhcy1hY3RpdmUtZW50cmllcyB7XG4gICAgcGF0aC5iYXIsXG4gICAgcGF0aC5hcmMge1xuICAgICAgb3BhY2l0eTogMC4xO1xuXG4gICAgICAmLmFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLnN2Zy1zYXZlci1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICAgIC5uZ3gtYnV0dG9uIGJ1dHRvbiB7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgd2lkdGg6IGluaXRpYWw7XG4gICAgfVxuICB9XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/chart/chart.component.ts":
/*!******************************************!*\
  !*** ./src/app/chart/chart.component.ts ***!
  \******************************************/
/*! exports provided: ChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartComponent", function() { return ChartComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var svgsaver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svgsaver */ "./node_modules/svgsaver/lib/svgsaver.js");
/* harmony import */ var svgsaver__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(svgsaver__WEBPACK_IMPORTED_MODULE_2__);



var EMPTY = [];
var ChartComponent = /** @class */ (function () {
    function ChartComponent() {
        this.select = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.svgSaver = new svgsaver__WEBPACK_IMPORTED_MODULE_2__();
    }
    Object.defineProperty(ChartComponent.prototype, "activeEntries", {
        get: function () {
            return this.hasActiveEntries ? this._activeEntries : EMPTY;
        },
        set: function (value) {
            this._activeEntries = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartComponent.prototype, "hasActiveEntries", {
        get: function () {
            return this._activeEntries && this._activeEntries.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    ChartComponent.prototype.ngOnInit = function () {
    };
    ChartComponent.prototype.onSelect = function (data) {
        if (data) {
            var value = typeof data === 'object' ? data.name : data;
            if (this.chart.xFilter) {
                var filter = this.chart.xFilter;
                switch (filter.type) {
                    case 'value':
                        filter.range[0] = value;
                        break;
                    default:
                        filter.rangeIndex[value] = !filter.rangeIndex[value];
                }
            }
            return this.select.emit({ chart: this.chart, value: value });
        }
        return this.select.emit({ chart: this.chart });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
    ], ChartComponent.prototype, "select", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ChartComponent.prototype, "chart", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ChartComponent.prototype, "chartType", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
    ], ChartComponent.prototype, "data", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Array])
    ], ChartComponent.prototype, "activeEntries", null);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostBinding"])('class.has-active-entries'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], ChartComponent.prototype, "hasActiveEntries", null);
    ChartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-chart',
            template: __webpack_require__(/*! ./chart.component.html */ "./src/app/chart/chart.component.html"),
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewEncapsulation"].None,
            styles: [__webpack_require__(/*! ./chart.component.scss */ "./src/app/chart/chart.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], ChartComponent);
    return ChartComponent;
}());



/***/ }),

/***/ "./src/app/data.service.ts":
/*!*********************************!*\
  !*** ./src/app/data.service.ts ***!
  \*********************************/
/*! exports provided: DataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataService", function() { return DataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var universe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! universe */ "./node_modules/universe/src/universe.js");
/* harmony import */ var universe__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(universe__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! papaparse */ "./node_modules/papaparse/papaparse.js");
/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var d3_collection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-collection */ "./node_modules/d3-collection/index.js");





var DataService = /** @class */ (function () {
    function DataService() {
        this.universeUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.dataDims = [];
    }
    Object.defineProperty(DataService.prototype, "rawData", {
        get: function () {
            return this._parsed.data;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataService.prototype, "errors", {
        get: function () {
            return this._parsed.errors;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataService.prototype, "dataText", {
        get: function () {
            return this._dataText || ' ';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataService.prototype, "headerValues", {
        get: function () {
            var _this = this;
            return this._parsed.meta.fields.map(function (d) { return ({
                name: d,
                type: typeof _this._parsed.data[0][d]
            }); });
        },
        enumerable: true,
        configurable: true
    });
    DataService.prototype.updateData = function (dataText) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _a;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this._parsed = papaparse__WEBPACK_IMPORTED_MODULE_3__["parse"](dataText, {
                            header: true,
                            dynamicTyping: true,
                            skipEmptyLines: true
                        });
                        if (this._parsed.meta.aborted || this._parsed.data.length === 0) {
                            this._dataText = '';
                            return [2 /*return*/, this.rawData];
                        }
                        _a = this;
                        return [4 /*yield*/, universe__WEBPACK_IMPORTED_MODULE_2__(this._parsed.data)];
                    case 1:
                        _a.dataUniverse = _b.sent();
                        this.universeUpdated.emit(this.dataUniverse);
                        return [2 /*return*/, this.rawData];
                }
            });
        });
    };
    DataService.prototype.createQuery = function (groupBy, valueKey, aggragate) {
        if (aggragate === void 0) { aggragate = 'sum'; }
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _a, _b, select;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        select = { $count: true };
                        aggragate = '$' + aggragate;
                        if (valueKey && valueKey !== 'count') {
                            select = (_a = {
                                    $count: true
                                },
                                _a[valueKey] = (_b = {},
                                    _b[aggragate] = valueKey,
                                    _b),
                                _a);
                        }
                        return [4 /*yield*/, this.dataUniverse.query({
                                groupBy: groupBy,
                                select: select
                            })];
                    case 1: return [2 /*return*/, _c.sent()];
                }
            });
        });
    };
    DataService.prototype.getChartSeriesFromQuery = function (query, yKey, aggragate) {
        if (yKey === void 0) { yKey = 'count'; }
        if (aggragate === void 0) { aggragate = 'sum'; }
        var data = query.data.map(function (d) {
            var value = d.value[yKey];
            if (typeof value === 'object') {
                value = value[aggragate];
            }
            // todo: key is array
            return {
                name: d.key,
                value: value
            };
        }); // .filter(d => d.value !== 0);
        if (data.length > 0 && Array.isArray(data[0].name)) {
            data = Object(d3_collection__WEBPACK_IMPORTED_MODULE_4__["nest"])()
                .key(function (d) { return d.name[0]; })
                .entries(data)
                .map(function (d) {
                var series = d.values.map(function (dd) {
                    return {
                        name: dd.name[1],
                        value: dd.value
                    };
                });
                return {
                    name: d.key,
                    series: series
                };
            });
        }
        return data;
    };
    DataService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], DataService);
    return DataService;
}());



/***/ }),

/***/ "./src/app/data.ts":
/*!*************************!*\
  !*** ./src/app/data.ts ***!
  \*************************/
/*! exports provided: gapminder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gapminder", function() { return gapminder; });
var gapminder = "\ncountry\tyear\tgdpPercap\tlifeExp\tpop\tcontinent\nAustralia\t1952\t10039.59564\t69.12\t8691212\tOceania\nAustralia\t1957\t10949.64959\t70.33\t9712569\tOceania\nAustralia\t1962\t12217.22686\t70.93\t10794968\tOceania\nAustralia\t1967\t14526.12465\t71.1\t11872264\tOceania\nAustralia\t1972\t16788.62948\t71.93\t13177000\tOceania\nAustralia\t1977\t18334.19751\t73.49\t14074100\tOceania\nAustralia\t1982\t19477.00928\t74.74\t15184200\tOceania\nAustralia\t1987\t21888.88903\t76.32\t16257249\tOceania\nAustralia\t1992\t23424.76683\t77.56\t17481977\tOceania\nAustralia\t1997\t26997.93657\t78.83\t18565243\tOceania\nAustralia\t2002\t30687.75473\t80.37\t19546792\tOceania\nAustralia\t2007\t34435.36744\t81.235\t20434176\tOceania\nCanada\t1952\t11367.16112\t68.75\t14785584\tAmericas\nCanada\t1957\t12489.95006\t69.96\t17010154\tAmericas\nCanada\t1962\t13462.48555\t71.3\t18985849\tAmericas\nCanada\t1967\t16076.58803\t72.13\t20819767\tAmericas\nCanada\t1972\t18970.57086\t72.88\t22284500\tAmericas\nCanada\t1977\t22090.88306\t74.21\t23796400\tAmericas\nCanada\t1982\t22898.79214\t75.76\t25201900\tAmericas\nCanada\t1987\t26626.51503\t76.86\t26549700\tAmericas\nCanada\t1992\t26342.88426\t77.95\t28523502\tAmericas\nCanada\t1997\t28954.92589\t78.61\t30305843\tAmericas\nCanada\t2002\t33328.96507\t79.77\t31902268\tAmericas\nCanada\t2007\t36319.23501\t80.653\t33390141\tAmericas\nChina\t1952\t400.4486107\t44\t556263528\tAsia\nChina\t1957\t575.9870009\t50.54896\t637408000\tAsia\nChina\t1962\t487.6740183\t44.50136\t665770000\tAsia\nChina\t1967\t612.7056934\t58.38112\t754550000\tAsia\nChina\t1972\t676.9000921\t63.11888\t862030000\tAsia\nChina\t1977\t741.2374699\t63.96736\t943455000\tAsia\nChina\t1982\t962.4213805\t65.525\t1000281000\tAsia\nChina\t1987\t1378.904018\t67.274\t1084035000\tAsia\nChina\t1992\t1655.784158\t68.69\t1164970000\tAsia\nChina\t1997\t2289.234136\t70.426\t1230075000\tAsia\nChina\t2002\t3119.280896\t72.028\t1280400000\tAsia\nChina\t2007\t4959.114854\t72.961\t1318683096\tAsia\nFrance\t1952\t7029.809327\t67.41\t42459667\tEurope\nFrance\t1957\t8662.834898\t68.93\t44310863\tEurope\nFrance\t1962\t10560.48553\t70.51\t47124000\tEurope\nFrance\t1967\t12999.91766\t71.55\t49569000\tEurope\nFrance\t1972\t16107.19171\t72.38\t51732000\tEurope\nFrance\t1977\t18292.63514\t73.83\t53165019\tEurope\nFrance\t1982\t20293.89746\t74.89\t54433565\tEurope\nFrance\t1987\t22066.44214\t76.34\t55630100\tEurope\nFrance\t1992\t24703.79615\t77.46\t57374179\tEurope\nFrance\t1997\t25889.78487\t78.64\t58623428\tEurope\nFrance\t2002\t28926.03234\t79.59\t59925035\tEurope\nFrance\t2007\t30470.0167\t80.657\t61083916\tEurope\nGermany\t1952\t7144.114393\t67.5\t69145952\tEurope\nGermany\t1957\t10187.82665\t69.1\t71019069\tEurope\nGermany\t1962\t12902.46291\t70.3\t73739117\tEurope\nGermany\t1967\t14745.62561\t70.8\t76368453\tEurope\nGermany\t1972\t18016.18027\t71\t78717088\tEurope\nGermany\t1977\t20512.92123\t72.5\t78160773\tEurope\nGermany\t1982\t22031.53274\t73.8\t78335266\tEurope\nGermany\t1987\t24639.18566\t74.847\t77718298\tEurope\nGermany\t1992\t26505.30317\t76.07\t80597764\tEurope\nGermany\t1997\t27788.88416\t77.34\t82011073\tEurope\nGermany\t2002\t30035.80198\t78.67\t82350671\tEurope\nGermany\t2007\t32170.37442\t79.406\t82400996\tEurope\nJapan\t1952\t3216.956347\t63.03\t86459025\tAsia\nJapan\t1957\t4317.694365\t65.5\t91563009\tAsia\nJapan\t1962\t6576.649461\t68.73\t95831757\tAsia\nJapan\t1967\t9847.788607\t71.43\t100825279\tAsia\nJapan\t1972\t14778.78636\t73.42\t107188273\tAsia\nJapan\t1977\t16610.37701\t75.38\t113872473\tAsia\nJapan\t1982\t19384.10571\t77.11\t118454974\tAsia\nJapan\t1987\t22375.94189\t78.67\t122091325\tAsia\nJapan\t1992\t26824.89511\t79.36\t124329269\tAsia\nJapan\t1997\t28816.58499\t80.69\t125956499\tAsia\nJapan\t2002\t28604.5919\t82\t127065841\tAsia\nJapan\t2007\t31656.06806\t82.603\t127467972\tAsia\nMexico\t1952\t3478.125529\t50.789\t30144317\tAmericas\nMexico\t1957\t4131.546641\t55.19\t35015548\tAmericas\nMexico\t1962\t4581.609385\t58.299\t41121485\tAmericas\nMexico\t1967\t5754.733883\t60.11\t47995559\tAmericas\nMexico\t1972\t6809.40669\t62.361\t55984294\tAmericas\nMexico\t1977\t7674.929108\t65.032\t63759976\tAmericas\nMexico\t1982\t9611.147541\t67.405\t71640904\tAmericas\nMexico\t1987\t8688.156003\t69.498\t80122492\tAmericas\nMexico\t1992\t9472.384295\t71.455\t88111030\tAmericas\nMexico\t1997\t9767.29753\t73.67\t95895146\tAmericas\nMexico\t2002\t10742.44053\t74.902\t102479927\tAmericas\nMexico\t2007\t11977.57496\t76.195\t108700891\tAmericas\nSpain\t1952\t3834.034742\t64.94\t28549870\tEurope\nSpain\t1957\t4564.80241\t66.66\t29841614\tEurope\nSpain\t1962\t5693.843879\t69.69\t31158061\tEurope\nSpain\t1967\t7993.512294\t71.44\t32850275\tEurope\nSpain\t1972\t10638.75131\t73.06\t34513161\tEurope\nSpain\t1977\t13236.92117\t74.39\t36439000\tEurope\nSpain\t1982\t13926.16997\t76.3\t37983310\tEurope\nSpain\t1987\t15764.98313\t76.9\t38880702\tEurope\nSpain\t1992\t18603.06452\t77.57\t39549438\tEurope\nSpain\t1997\t20445.29896\t78.77\t39855442\tEurope\nSpain\t2002\t24835.47166\t79.78\t40152517\tEurope\nSpain\t2007\t28821.0637\t80.941\t40448191\tEurope\nUnited Kingdom\t1952\t9979.508487\t69.18\t50430000\tEurope\nUnited Kingdom\t1957\t11283.17795\t70.42\t51430000\tEurope\nUnited Kingdom\t1962\t12477.17707\t70.76\t53292000\tEurope\nUnited Kingdom\t1967\t14142.85089\t71.36\t54959000\tEurope\nUnited Kingdom\t1972\t15895.11641\t72.01\t56079000\tEurope\nUnited Kingdom\t1977\t17428.74846\t72.76\t56179000\tEurope\nUnited Kingdom\t1982\t18232.42452\t74.04\t56339704\tEurope\nUnited Kingdom\t1987\t21664.78767\t75.007\t56981620\tEurope\nUnited Kingdom\t1992\t22705.09254\t76.42\t57866349\tEurope\nUnited Kingdom\t1997\t26074.53136\t77.218\t58808266\tEurope\nUnited Kingdom\t2002\t29478.99919\t78.471\t59912431\tEurope\nUnited Kingdom\t2007\t33203.26128\t79.425\t60776238\tEurope\nUnited States\t1952\t13990.48208\t68.44\t157553000\tAmericas\nUnited States\t1957\t14847.12712\t69.49\t171984000\tAmericas\nUnited States\t1962\t16173.14586\t70.21\t186538000\tAmericas\nUnited States\t1967\t19530.36557\t70.76\t198712000\tAmericas\nUnited States\t1972\t21806.03594\t71.34\t209896000\tAmericas\nUnited States\t1977\t24072.63213\t73.38\t220239000\tAmericas\nUnited States\t1982\t25009.55914\t74.65\t232187835\tAmericas\nUnited States\t1987\t29884.35041\t75.02\t242803533\tAmericas\nUnited States\t1992\t32003.93224\t76.09\t256894189\tAmericas\nUnited States\t1997\t35767.43303\t76.81\t272911760\tAmericas\nUnited States\t2002\t39097.09955\t77.31\t287675526\tAmericas\nUnited States\t2007\t42951.65309\t78.242\t301139947\tAmericas".trim();


/***/ }),

/***/ "./src/app/utils.ts":
/*!**************************!*\
  !*** ./src/app/utils.ts ***!
  \**************************/
/*! exports provided: toCapitalizedWords */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toCapitalizedWords", function() { return toCapitalizedWords; });
function toCapitalizedWords(name) {
    if (typeof name !== 'string') {
        return null;
    }
    var words = name.match(/[A-Za-z][a-z]*/g);
    return words.map(capitalize).join(' ');
    function capitalize(word) {
        return word.charAt(0).toUpperCase() + word.substring(1);
    }
}


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]);


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/jmh/workspace/projects/ngx-charts-dashboard/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map